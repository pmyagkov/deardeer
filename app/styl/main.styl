use('../bower_components/stylus-random')

$aside_width = 20em
$edge_width = 50px
$story_border_width = 7px

$mail_color = black

$transition_duration = .5s

body
  font-size: 16px
  margin: 0
  background-image: url("../images/wood/0.jpg")
  //overflow: hidden
  white-space: nowrap

ul
  margin: 0
  padding: 0
  list-style-type: none

a
  color: black

.paranja
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0
  background-image: url("../images/flowers-bg.png")
  background-position: 0 0
  transition: background-position $transition_duration ease

  &::before
    content: ''
    position: absolute
    top: 0
    right: 0
    left: 0
    bottom: 0
    background: linear-gradient(90deg, rgba(255,255,255,0.9) 100px, rgba(255,255,255,0.8) 300px, rgba(255,255,255,0) 400px)



.anchor
  text-decoration: none
  position: relative

  &:before
    content: ''
    display: block
    width: 20px
    height: 20px
    position: absolute
    left: -27px
    top: -2px

    background-image: url("../images/leaves.svg")
    background-size: cover;

    opacity: 0

    // translateZ нужен для того, анимация одной ссылки не влияла на другую
    transform: rotateZ(-90deg) scale(0.8) translateZ(0)
    transform-origin: right
    transition: transform 0.3s ease 0s, opacity 0.3s ease 0s

  &:hover:before
    opacity: 1
    transform: rotateZ(0deg) scale(1) translateZ(0)

  //&:hover

.aside
  width: $aside_width
  height: 100%
  //background-repeat: repeat-y
  position: absolute
  display: block
  color: rgba(#fff, 0.5)

  /*&::before
    content: ''
    position: absolute
    top:0
    left: 0
    bottom: 0
    right: 0

    background: rgba(#fff, 0.2)
*/

.logo
  width: 100%
  height: 35%
  margin: $edge_width auto
  background-size: contain

  & svg
    width: 100%
    height: 100%

.navigation
  padding: 0
  margin: 30px auto
  font-size: 1.5em
  font-family: 'Neucha', cursive


  font-family: 'Marck Script', cursive;
  font-family: 'Oranienbaum', serif;
  font-family: 'Lobster', cursive;
  font-family: 'EB Garamond', serif;
  font-family: 'Marmelad', sans-serif;
  font-family: 'Philosopher', sans-serif


  li
    margin-bottom: 1em
    display: block
    width: 100%
    text-align: center
    //text-shadow: 1px 1px 5px rgb(129, 70, 37)

    /*&:nth-child(1)
      font-family: 'Philosopher', sans-serif
    &:nth-child(2)
      font-family: 'Marck Script', cursive
    &:nth-child(3)
      font-family: 'Oranienbaum', cursive*/

.main
  position: absolute
  left: $aside_width
  right: 0
  height: 100vh
  display: block

  background: rgba(255,255,255,.4)

  & .main-inner
    position: relative

  .content
    position: relative
    height: 100%

  .arrows
    position: absolute
    top: 0
    left: 0
    bottom: 0
    right: 0

    & .up,
    & .down
      height: 50%
      position: relative
      right: 90px
      cursor: hand

      &::before
        content: ''
        width: 100px
        height: 100px
        border-left: 5px solid
        border-left-color: rgba(#fff, .5)
        border-top: 5px solid
        border-top-color: rgba(#fff, .5)
        position: absolute
        right: 100px

      &:hover::before
        animation: border-glow 1s ease 0s infinite


    & .up::before
      margin-top: 50px
      top: 40%
      transform: rotateZ(45deg)

    & .down::before
      bottom: 40%
      transform: rotateZ(-135deg)




  .thumbs
    font-size: 16px
    list-style-type: none
    position: absolute
    right: 0
    top: 0
    margin: 30px 0px 30px 0
    padding: 10px
    box-sizing: border-box
    height: 100%
    overflow: hidden

    li
      margin: 20px 0 0 0
      padding: 0
      background-size: contain
      width: 9em
      height: 6em
      border: 5px  solid
      border-color: rgba(#fff, .6)
      opacity: 0.8
      cursor: hand
      transition: transform .3s ease-out 0s, border-color .3s ease-out 0s, opacity .3s ease-out

      &:hover,
      &.current
        transform: translateX(-10px) rotateZ(0) translateZ(0)!important
        border-color: rgba(#fff, 1)
        opacity: 1

      &.current
        cursor: pointer


for $a in (1..$photos_count)
  .story:nth-child({$a}) .story-inner
    background-image: url("../images/photos/" $a "/original.jpg")

  .thumb:nth-child({$a})
    transform: rotateZ(random(-10, 10) deg) translateZ(0)
    background-image: url("../images/photos/" $a "/thumb.jpg")


.stories
  margin-top: 0
  transition: margin-top $transition_duration ease

.story
  height: 100vh
  position: relative

  & .story-inner
    position: absolute
    top: $edge_width
    left: $edge_width
    bottom: $edge_width
    right: $edge_width + 80
    box-sizing: border-box
    background-size: cover
    background-position: 50%

    &::before
      content: ''
      position: absolute
      top: - $story_border_width
      left: - $story_border_width
      bottom: - $story_border_width
      right: - $story_border_width
      box-shadow: 0px 0px 9px rgba(#000,0.6)


.page
  display: none


@keyframes border-glow
  from
    border-top-color: rgba(#fff, .5)
    border-left-color: rgba(#fff, .5)
  50%
    border-top-color: rgba(#fff, .8)
    border-left-color: rgba(#fff, .8)
  to
    border-top-color: rgba(#fff, .5)
    border-left-color: rgba(#fff, .5)

